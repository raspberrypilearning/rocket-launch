## Ефекти вихлопних газів

<div style="display: flex; flex-wrap: wrap">
<div style="flex-basis: 200px; flex-grow: 1; margin-right: 15px;">

Ракета виглядатиме більш реалістично завдяки спецефектам, які будуть відтворювати слід від вихлопу. 

Ти можеш створювати круті ефекти, використовуючи цикл `for`, щоб намалювати багато різних фігур у кожному кадрі.

</div>
<div>

![Ракета посередині шляху зі слідом вихлопних газів.](images/flying_rocket.gif){:width="300px"}

</div>
</div>

<p style="border-left: solid; border-width:10px; border-color: #0faeb0; background-color: aliceblue; padding: 10px;">
За допомогою коду можна створювати <span style="color: #0faeb0">**графічні ефекти**</span> для фільмів та відеоігор. Набагато простіше та швидше написати код, ніж малювати кожен кадр анімації окремо. </p>

Намалювавши багато жовтих овалів у різних позиціях `y`, можна створити вихлопний слід із заокругленим кінцем.

--- task ---

Цикл `for` повторює частину коду один раз для кожного заданого йому елемента. Щоб виконати код в циклі `for` певну кількість разів, можна використати функцію `range()`. Наприклад, `range(5)` створює послідовність з п'яти чисел, починаючи з 0, тобто [0, 1, 2, 3, 4].

Кожного разу, коли цикл `for` повторюється, він присвоює змінну поточному елементу, щоб її можна було використати в циклі.

Онови свою функцію `draw_rocket()` додавши до неї цикл `for` який повторює малювання `25` овалів вихлопу. **Змінна циклу** `i` додається до `rocket_y`, щоб намалювати кожного разу овал нижче під ракетою.

--- code ---
---
language: python
filename: main.py - draw_rocket()
line_numbers: true
line_number_start: 12
line_highlights: 16-22
---

def draw_rocket():
  
  global rocket_y   
  rocket_y -= 1   

  no_stroke() #Видалення обведення

  for i in range(25): #Малювання 25 овалів вихлопу   
    fill(255, 255, 0) #Жовтий   
    ellipse(width/2, rocket_y + i, 8, 3) #i збільшується з кожним повторенням циклу    

  image(rocket, width/2, rocket_y, 64, 64)


--- /code ---

--- /task ---

--- task ---

**Тест:** Запустити свій код, щоб перевірити, чи має ракета новий вихлопний слід.

![Крупний план ракети зі слідом від вихлопу.](images/rocket_exhaust.png){:width="300px"}

--- /task ---

Змінна `i` може також використовуватися для створення кольорового градієнта з меншою кількістю зеленого кольору в кожному наступному овалі, який буде малюватися.

--- task ---

Зміни виклик функції `fill()`, встановивши кількість зеленого кольору на `255 - i*10` так, щоб у першому колі було однакова кількість червоного та зеленого кольорів, а в останньому - дуже мало зеленого.

--- code ---
---
language: python
filename: main.py - draw_rocket()
line_numbers: true
line_number_start: 19
line_highlights: 20
---

  for i in range(25):   
    fill(255, 255 - i * 10, 0) #Зменшити кількість зеленого кольору    
    ellipse(width/2, rocket_y + i, 8, 3)

--- /code ---

--- /task ---

--- task ---

**Тест:** Переконайся, що у тебе вийшло створити послідовність овалів, які поступово змінюються від жовтого до червоного кольору.

--- /task ---

Слід димового вихлопу створюється шляхом випадкового малювання ледь прозорих сірих овалів у різних положеннях на кожному кадрі.

![Повільна анімація ефекту диму.](images/rocket_smoke.gif)

--- task ---

Цього разу, функція `fill()` знаходиться поза циклом, оскільки колір однаковий для кожного димового овалу. Четверте число у функції `fill()` - прозорість. Низьке значення прозорості дозволяє зробити колір більш прозорим, щоб можна було роздивитися форми, які знаходяться під ним.

На кожному кадрі анімації буде намальовано 20 овалів випадкових розмірів на випадкових позиціях.

--- code ---
---
language: python
filename: main.py - draw_rocket()
line_numbers: true
line_number_start: 19
line_highlights: 23-26
---

  for i in range(25):  
    fill(255, 255 - i * 10, 0)   
    ellipse(width/2, rocket_y + i, 8, 3)    

  fill(200, 200, 200, 100) #Прозоро-сірий   
  for i in range(20): #Малювання 20 випадкових овалів диму    
    ellipse(width/2 + randint(-5, 5), rocket_y + randint(20, 50), randint(5, 10), randint(5, 10))    
  
  image(rocket, width/2, rocket_y, 64, 64)

--- /code ---

--- /task ---

--- task ---

**Тест:** Запусти програму та перевір, чи видно вихлопні гази.

![Крупний план ракети та вихлопного сліду з додаванням диму.](images/rocket_exhaust_circles.gif)

--- /task ---

--- save ---
